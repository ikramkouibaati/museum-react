{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport React, { useState } from 'react';\nimport { TextInput, Button } from 'react-native-paper';\nimport { schemaUsers } from \"../../verif/oeuvres\";\nimport db from \"../config\";\nimport { collection, addDoc } from 'firebase/firestore';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar PostUser = function PostUser() {\n  var _useState = useState(\"\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    email = _useState2[0],\n    setEmail = _useState2[1];\n  var _useState3 = useState(\"\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    password = _useState4[0],\n    setPassword = _useState4[1];\n  var _useState5 = useState(\"\"),\n    _useState6 = _slicedToArray(_useState5, 2),\n    role = _useState6[0],\n    setRole = _useState6[1];\n  var handleSubmit = function handleSubmit() {\n    console.log(email, password, role);\n    var user = {\n      email: email,\n      password: password,\n      role: role\n    };\n    var _schemaUsers$validate = schemaUsers.validate(user, {\n        abortEarly: false\n      }),\n      error = _schemaUsers$validate.error;\n    console.log(error);\n    if (!error) {\n      addDoc(collection(db, \"users\"), user);\n    }\n  };\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(TextInput, {\n      label: \"Email\",\n      value: email,\n      onChangeText: function onChangeText(text) {\n        return setEmail(text);\n      },\n      style: styles.input\n    }), _jsx(TextInput, {\n      label: \"Mot de passe\",\n      value: password,\n      onChangeText: function onChangeText(text) {\n        return setPassword(text);\n      },\n      secureTextEntry: true,\n      style: styles.input\n    }), _jsx(TextInput, {\n      label: \"R\\xF4le\",\n      value: role,\n      onChangeText: function onChangeText(text) {\n        return setRole(text);\n      },\n      style: styles.input\n    }), _jsx(Button, {\n      mode: \"contained\",\n      onPress: handleSubmit,\n      style: styles.button,\n      children: \"Cr\\xE9er\"\n    })]\n  });\n};\nexport default PostUser;\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    padding: 16\n  },\n  input: {\n    marginBottom: 10\n  },\n  button: {\n    marginTop: 20\n  }\n});","map":{"version":3,"names":["React","useState","TextInput","Button","schemaUsers","db","collection","addDoc","jsx","_jsx","jsxs","_jsxs","PostUser","_useState","_useState2","_slicedToArray","email","setEmail","_useState3","_useState4","password","setPassword","_useState5","_useState6","role","setRole","handleSubmit","console","log","user","_schemaUsers$validate","validate","abortEarly","error","View","style","styles","container","children","label","value","onChangeText","text","input","secureTextEntry","mode","onPress","button","StyleSheet","create","flex","justifyContent","padding","marginBottom","marginTop"],"sources":["C:/Users/ing/Documents/M1_DEV/Rendu/composants/back/PostUsers.jsx"],"sourcesContent":["import { StyleSheet, View } from 'react-native';\r\nimport React, { useState } from 'react';\r\nimport { TextInput, Button } from 'react-native-paper';\r\nimport { schemaUsers } from '../../verif/oeuvres';\r\nimport db from '../config';\r\nimport { collection, addDoc } from 'firebase/firestore';\r\n\r\nconst PostUser = () => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [role, setRole] = useState(\"\");\r\n\r\n  const handleSubmit = () => {\r\n    console.log(email, password, role);\r\n\r\n    const user = {\r\n      email,\r\n      password,\r\n      role,\r\n    };\r\n\r\n    const { error } = schemaUsers.validate(user, { abortEarly: false });\r\n\r\n    console.log(error);\r\n\r\n    if (!error) {\r\n      addDoc(collection(db, \"users\"), user);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <TextInput\r\n        label=\"Email\"\r\n        value={email}\r\n        onChangeText={text => setEmail(text)}\r\n        style={styles.input}\r\n      />\r\n      <TextInput\r\n        label=\"Mot de passe\"\r\n        value={password}\r\n        onChangeText={text => setPassword(text)}\r\n        secureTextEntry\r\n        style={styles.input}\r\n      />\r\n      <TextInput\r\n        label=\"Rôle\"\r\n        value={role}\r\n        onChangeText={text => setRole(text)}\r\n        style={styles.input}\r\n      />\r\n      <Button mode=\"contained\" onPress={handleSubmit} style={styles.button}>\r\n        Créer\r\n      </Button>\r\n    </View>\r\n  )\r\n}\r\n\r\nexport default PostUser;\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    padding: 16,\r\n  },\r\n  input: {\r\n    marginBottom: 10,\r\n  },\r\n  button: {\r\n    marginTop: 20,\r\n  },\r\n});"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport React, { useState } from 'react';\nimport { TextInput, Button } from 'react-native-paper';\nimport { schemaOeuvres } from \"../../verif/oeuvres\";\nimport db from \"../config\";\nimport { collection, addDoc } from 'firebase/firestore';\nimport * as ImagePicker from 'expo-image-picker';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar PostPeinture = function PostPeinture() {\n  var _useState = useState(\"\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    nom = _useState2[0],\n    setNom = _useState2[1];\n  var _useState3 = useState(\"\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    description = _useState4[0],\n    setDescription = _useState4[1];\n  var _useState5 = useState(\"\"),\n    _useState6 = _slicedToArray(_useState5, 2),\n    image = _useState6[0],\n    setImage = _useState6[1];\n  var _useState7 = useState(\"\"),\n    _useState8 = _slicedToArray(_useState7, 2),\n    auteur = _useState8[0],\n    setAuteur = _useState8[1];\n  var _useState9 = useState(\"\"),\n    _useState10 = _slicedToArray(_useState9, 2),\n    dateCreation = _useState10[0],\n    setDateCreation = _useState10[1];\n  var _useState11 = useState(\"\"),\n    _useState12 = _slicedToArray(_useState11, 2),\n    userId = _useState12[0],\n    setUserId = _useState12[1];\n  var handleSubmit = function handleSubmit() {\n    console.log(nom, description, image, auteur, dateCreation, userId);\n    var oeuvre = {\n      nom: nom,\n      description: description,\n      image: image,\n      auteur: auteur,\n      dateCreation: dateCreation,\n      userId: userId\n    };\n    var _schemaOeuvres$valida = schemaOeuvres.validate(oeuvre, {\n        abortEarly: false\n      }),\n      error = _schemaOeuvres$valida.error;\n    console.log(error);\n    if (!error) {\n      addDoc(collection(db, \"oeuvres\"), oeuvre);\n    }\n  };\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(TextInput, {\n      label: \"Nom\",\n      value: nom,\n      onChangeText: function onChangeText(text) {\n        return setNom(text);\n      },\n      style: styles.input\n    }), _jsx(TextInput, {\n      label: \"Description\",\n      value: description,\n      onChangeText: function onChangeText(text) {\n        return setDescription(text);\n      },\n      style: styles.input\n    }), _jsx(TextInput, {\n      label: \"Image\",\n      value: image,\n      onChangeText: function onChangeText(text) {\n        return setImage(text);\n      },\n      style: styles.input\n    }), _jsx(TextInput, {\n      label: \"Auteur\",\n      value: auteur,\n      onChangeText: function onChangeText(text) {\n        return setAuteur(text);\n      },\n      style: styles.input\n    }), _jsx(TextInput, {\n      label: \"Date de cr\\xE9ation\",\n      value: dateCreation,\n      onChangeText: function onChangeText(text) {\n        return setDateCreation(text);\n      },\n      style: styles.input\n    }), _jsx(TextInput, {\n      label: \"User ID\",\n      value: userId,\n      onChangeText: function onChangeText(text) {\n        return setUserId(text);\n      },\n      style: styles.input\n    }), _jsx(Button, {\n      mode: \"contained\",\n      onPress: handleSubmit,\n      style: styles.button,\n      children: \"Cr\\xE9er\"\n    })]\n  });\n};\nexport default PostPeinture;\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    padding: 16\n  },\n  input: {\n    marginBottom: 10\n  },\n  button: {\n    marginTop: 20\n  }\n});","map":{"version":3,"names":["React","useState","TextInput","Button","schemaOeuvres","db","collection","addDoc","ImagePicker","jsx","_jsx","jsxs","_jsxs","PostPeinture","_useState","_useState2","_slicedToArray","nom","setNom","_useState3","_useState4","description","setDescription","_useState5","_useState6","image","setImage","_useState7","_useState8","auteur","setAuteur","_useState9","_useState10","dateCreation","setDateCreation","_useState11","_useState12","userId","setUserId","handleSubmit","console","log","oeuvre","_schemaOeuvres$valida","validate","abortEarly","error","View","style","styles","container","children","label","value","onChangeText","text","input","mode","onPress","button","StyleSheet","create","flex","justifyContent","padding","marginBottom","marginTop"],"sources":["C:/Users/ing/Documents/M1_DEV/Rendu/composants/back/PostPeinture.jsx"],"sourcesContent":["import { StyleSheet, View } from 'react-native';\r\nimport React, { useState } from 'react';\r\nimport { TextInput, Button } from 'react-native-paper';\r\nimport { schemaOeuvres } from '../../verif/oeuvres';\r\nimport db from '../config';\r\nimport { collection, addDoc } from 'firebase/firestore';\r\nimport * as ImagePicker from 'expo-image-picker';\r\n\r\nconst PostPeinture = () => {\r\n  const [nom, setNom] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [image, setImage] = useState(\"\");\r\n  const [auteur, setAuteur] = useState(\"\");\r\n  const [dateCreation, setDateCreation] = useState(\"\");\r\n  const [userId, setUserId] = useState(\"\");\r\n\r\n  const handleSubmit = () => {\r\n    console.log(nom, description, image, auteur, dateCreation, userId);\r\n\r\n    const oeuvre = {\r\n      nom,\r\n      description,\r\n      image,\r\n      auteur,\r\n      dateCreation: dateCreation,\r\n      userId: userId\r\n    };\r\n\r\n    const { error } = schemaOeuvres.validate(oeuvre, { abortEarly: false });\r\n\r\n    console.log(error);\r\n\r\n    if (!error) {\r\n      addDoc(collection(db, \"oeuvres\"), oeuvre);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <TextInput\r\n        label=\"Nom\"\r\n        value={nom}\r\n        onChangeText={text => setNom(text)}\r\n        style={styles.input}\r\n      />\r\n      <TextInput\r\n        label=\"Description\"\r\n        value={description}\r\n        onChangeText={text => setDescription(text)}\r\n        style={styles.input}\r\n      />\r\n      <TextInput\r\n        label=\"Image\"\r\n        value={image}\r\n        onChangeText={text => setImage(text)}\r\n        style={styles.input}\r\n      />\r\n      <TextInput\r\n        label=\"Auteur\"\r\n        value={auteur}\r\n        onChangeText={text => setAuteur(text)}\r\n        style={styles.input}\r\n      />\r\n      <TextInput\r\n        label=\"Date de création\"\r\n        value={dateCreation}\r\n        onChangeText={text => setDateCreation(text)}\r\n        style={styles.input}\r\n      />\r\n      <TextInput\r\n        label=\"User ID\"\r\n        value={userId}\r\n        onChangeText={text => setUserId(text)}\r\n        style={styles.input}\r\n      />\r\n      <Button mode=\"contained\" onPress={handleSubmit} style={styles.button}>\r\n        Créer\r\n      </Button>\r\n    </View>\r\n  )\r\n}\r\n\r\nexport default PostPeinture;\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    padding: 16,\r\n  },\r\n  input: {\r\n    marginBottom: 10,\r\n  },\r\n  button: {\r\n    marginTop: 20,\r\n  },\r\n});"],"mappings":";;;AACA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,SAAS,EAAEC,MAAM,QAAQ,oBAAoB;AACtD,SAASC,aAAa;AACtB,OAAOC,EAAE;AACT,SAASC,UAAU,EAAEC,MAAM,QAAQ,oBAAoB;AACvD,OAAO,KAAKC,WAAW,MAAM,mBAAmB;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAEjD,IAAMC,YAAY,GAAG,SAAfA,YAAYA,CAAA,EAAS;EACzB,IAAAC,SAAA,GAAsBb,QAAQ,CAAC,EAAE,CAAC;IAAAc,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAA3BG,GAAG,GAAAF,UAAA;IAAEG,MAAM,GAAAH,UAAA;EAClB,IAAAI,UAAA,GAAsClB,QAAQ,CAAC,EAAE,CAAC;IAAAmB,UAAA,GAAAJ,cAAA,CAAAG,UAAA;IAA3CE,WAAW,GAAAD,UAAA;IAAEE,cAAc,GAAAF,UAAA;EAClC,IAAAG,UAAA,GAA0BtB,QAAQ,CAAC,EAAE,CAAC;IAAAuB,UAAA,GAAAR,cAAA,CAAAO,UAAA;IAA/BE,KAAK,GAAAD,UAAA;IAAEE,QAAQ,GAAAF,UAAA;EACtB,IAAAG,UAAA,GAA4B1B,QAAQ,CAAC,EAAE,CAAC;IAAA2B,UAAA,GAAAZ,cAAA,CAAAW,UAAA;IAAjCE,MAAM,GAAAD,UAAA;IAAEE,SAAS,GAAAF,UAAA;EACxB,IAAAG,UAAA,GAAwC9B,QAAQ,CAAC,EAAE,CAAC;IAAA+B,WAAA,GAAAhB,cAAA,CAAAe,UAAA;IAA7CE,YAAY,GAAAD,WAAA;IAAEE,eAAe,GAAAF,WAAA;EACpC,IAAAG,WAAA,GAA4BlC,QAAQ,CAAC,EAAE,CAAC;IAAAmC,WAAA,GAAApB,cAAA,CAAAmB,WAAA;IAAjCE,MAAM,GAAAD,WAAA;IAAEE,SAAS,GAAAF,WAAA;EAExB,IAAMG,YAAY,GAAG,SAAfA,YAAYA,CAAA,EAAS;IACzBC,OAAO,CAACC,GAAG,CAACxB,GAAG,EAAEI,WAAW,EAAEI,KAAK,EAAEI,MAAM,EAAEI,YAAY,EAAEI,MAAM,CAAC;IAElE,IAAMK,MAAM,GAAG;MACbzB,GAAG,EAAHA,GAAG;MACHI,WAAW,EAAXA,WAAW;MACXI,KAAK,EAALA,KAAK;MACLI,MAAM,EAANA,MAAM;MACNI,YAAY,EAAEA,YAAY;MAC1BI,MAAM,EAAEA;IACV,CAAC;IAED,IAAAM,qBAAA,GAAkBvC,aAAa,CAACwC,QAAQ,CAACF,MAAM,EAAE;QAAEG,UAAU,EAAE;MAAM,CAAC,CAAC;MAA/DC,KAAK,GAAAH,qBAAA,CAALG,KAAK;IAEbN,OAAO,CAACC,GAAG,CAACK,KAAK,CAAC;IAElB,IAAI,CAACA,KAAK,EAAE;MACVvC,MAAM,CAACD,UAAU,CAACD,EAAE,EAAE,SAAS,CAAC,EAAEqC,MAAM,CAAC;IAC3C;EACF,CAAC;EAED,OACE9B,KAAA,CAACmC,IAAI;IAACC,KAAK,EAAEC,MAAM,CAACC,SAAU;IAAAC,QAAA,GAC5BzC,IAAA,CAACR,SAAS;MACRkD,KAAK,EAAC,KAAK;MACXC,KAAK,EAAEpC,GAAI;MACXqC,YAAY,EAAE,SAAAA,aAAAC,IAAI;QAAA,OAAIrC,MAAM,CAACqC,IAAI,CAAC;MAAA,CAAC;MACnCP,KAAK,EAAEC,MAAM,CAACO;IAAM,CACrB,CAAC,EACF9C,IAAA,CAACR,SAAS;MACRkD,KAAK,EAAC,aAAa;MACnBC,KAAK,EAAEhC,WAAY;MACnBiC,YAAY,EAAE,SAAAA,aAAAC,IAAI;QAAA,OAAIjC,cAAc,CAACiC,IAAI,CAAC;MAAA,CAAC;MAC3CP,KAAK,EAAEC,MAAM,CAACO;IAAM,CACrB,CAAC,EACF9C,IAAA,CAACR,SAAS;MACRkD,KAAK,EAAC,OAAO;MACbC,KAAK,EAAE5B,KAAM;MACb6B,YAAY,EAAE,SAAAA,aAAAC,IAAI;QAAA,OAAI7B,QAAQ,CAAC6B,IAAI,CAAC;MAAA,CAAC;MACrCP,KAAK,EAAEC,MAAM,CAACO;IAAM,CACrB,CAAC,EACF9C,IAAA,CAACR,SAAS;MACRkD,KAAK,EAAC,QAAQ;MACdC,KAAK,EAAExB,MAAO;MACdyB,YAAY,EAAE,SAAAA,aAAAC,IAAI;QAAA,OAAIzB,SAAS,CAACyB,IAAI,CAAC;MAAA,CAAC;MACtCP,KAAK,EAAEC,MAAM,CAACO;IAAM,CACrB,CAAC,EACF9C,IAAA,CAACR,SAAS;MACRkD,KAAK,EAAC,qBAAkB;MACxBC,KAAK,EAAEpB,YAAa;MACpBqB,YAAY,EAAE,SAAAA,aAAAC,IAAI;QAAA,OAAIrB,eAAe,CAACqB,IAAI,CAAC;MAAA,CAAC;MAC5CP,KAAK,EAAEC,MAAM,CAACO;IAAM,CACrB,CAAC,EACF9C,IAAA,CAACR,SAAS;MACRkD,KAAK,EAAC,SAAS;MACfC,KAAK,EAAEhB,MAAO;MACdiB,YAAY,EAAE,SAAAA,aAAAC,IAAI;QAAA,OAAIjB,SAAS,CAACiB,IAAI,CAAC;MAAA,CAAC;MACtCP,KAAK,EAAEC,MAAM,CAACO;IAAM,CACrB,CAAC,EACF9C,IAAA,CAACP,MAAM;MAACsD,IAAI,EAAC,WAAW;MAACC,OAAO,EAAEnB,YAAa;MAACS,KAAK,EAAEC,MAAM,CAACU,MAAO;MAAAR,QAAA,EAAC;IAEtE,CAAQ,CAAC;EAAA,CACL,CAAC;AAEX,CAAC;AAED,eAAetC,YAAY;AAE3B,IAAMoC,MAAM,GAAGW,UAAU,CAACC,MAAM,CAAC;EAC/BX,SAAS,EAAE;IACTY,IAAI,EAAE,CAAC;IACPC,cAAc,EAAE,QAAQ;IACxBC,OAAO,EAAE;EACX,CAAC;EACDR,KAAK,EAAE;IACLS,YAAY,EAAE;EAChB,CAAC;EACDN,MAAM,EAAE;IACNO,SAAS,EAAE;EACb;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}